# Quote Verse

![coverage][coverage_badge]
[![style: very good analysis][very_good_analysis_badge]][very_good_analysis_link]
[![License: MIT][license_badge]][license_link]

Generated by the [Very Good CLI][very_good_cli_link] 🤖

## Introduction

Quote Verse is a Flutter-based mobile application designed to demonstrate clean architecture principles and effective state management using the BLoC (Business Logic Component) pattern. The application serves as a comprehensive quote management system that showcases modern Flutter development practices including separated BLoC architecture, comprehensive exception handling, and responsive UI design.

Built with the [Very Good CLI][very_good_cli_link], Quote Verse emphasizes best practices in modular Flutter development, including separation of concerns, environment-specific builds, and internationalization support.

## Description

Quote Verse is a feature-rich quote management application that allows users to:

- **Browse Quotes**: View a curated collection of inspirational quotes
- **Manage Favorites**: Add and remove quotes from your personal favorites collection
- **Add New Quotes**: Create and save custom quotes with author attribution
- **Tab Navigation**: Seamlessly navigate between All Quotes, Favorites, and Add Quote sections
- **Responsive Design**: Modern Material 3 design with Google Fonts integration
- **Local Storage**: In-memory data persistence that maintains state during app sessions

### Key Features

- **Clean Architecture**: Implements domain, data, and presentation layers with proper separation of concerns
- **Separated BLoC Pattern**: Individual BLoCs for different features (QuotesBloc, FavoritesBloc, AddQuoteBloc)
- **Comprehensive Exception Handling**: Standardized error handling with user-friendly toast notifications
- **Form Validation**: Quote text (minimum 10 characters) and author name (minimum 2 characters) validation
- **Cross-Platform**: Supports iOS, Android, Web, and Windows platforms
- **Multi-Environment**: Development, staging, and production build configurations

## Usage

### Prerequisites

- Flutter SDK (3.8.0 or higher)
- Dart SDK
- IDE with Flutter support (VS Code, Android Studio, or IntelliJ)

### Installation

1. Clone the repository:
   ```sh
   git clone <repository-url>
   cd quote_verse
   ```

2. Install dependencies:
   ```sh
   flutter pub get
   ```

3. Run the application:
   ```sh
   # Development flavor
   flutter run --flavor development --target lib/main_development.dart
   
   # Staging flavor
   flutter run --flavor staging --target lib/main_staging.dart
   
   # Production flavor
   flutter run --flavor production --target lib/main_production.dart
   ```

### Testing

Run all unit and widget tests:
```sh
very_good test --coverage --test-randomize-ordering-seed random
```

Generate and view coverage report:
```sh
# Generate coverage report
genhtml coverage/lcov.info -o coverage/

# Open coverage report
open coverage/index.html
```

### Code Analysis

Run static analysis:
```sh
flutter analyze
```

## Directory Structure

```
quote_verse/
├── lib/
│   ├── app/
│   │   ├── common/
│   │   │   ├── components/             # Toast utilities and reusable components
│   │   │   ├── exceptions/             # Base exception classes and domain-specific exceptions
│   │   │   └── exceptions_adapters/    # Exception message mapping and adapters
│   │   └── features/
│   │       └── quotes/
│   │           ├── data/                  # Data Layer
│   │           │   ├── datasources/       # Local data source implementations
│   │           │   ├── models/            # Data models with JSON serialization
│   │           │   └── repositories/      # Repository implementations
│   │           ├── domain/                # Domain Layer
│   │           │   ├── entities/          # Core business entities
│   │           │   ├── repositories/      # Repository interfaces
│   │           │   └── usecases/          # Business logic use cases
│   │           └── presentation/          # Presentation Layer
│   │               ├── bloc/              # Separated BLoCs (quotes, favorites, add_quote)
│   │               ├── pages/             # UI screens and pages
│   │               └── widgets/           # Reusable UI components
│   └── l10n/                              # Internationalization
├── test/
│   ├── app/                               # App-level tests
│   ├── helpers/                           # Test utilities and helpers
│   └── quotes/
│       ├── domain/                        # Domain layer tests
│       └── presentation/
│           ├── bloc/                      # BLoC unit tests
│           ├── pages/                     # Widget tests for pages
│           └── widgets/                   # Widget tests for components
├── assets/                                # Static assets and data files
├── android/                               # Android-specific configuration
├── ios/                                   # iOS-specific configuration
├── web/                                   # Web-specific configuration
├── windows/                               # Windows-specific configuration
└── macos/                                 # macOS-specific configuration
```

### Architecture Overview

The application follows **Clean Architecture** principles with clear separation of concerns:

- **Presentation Layer**: UI components, BLoCs, and user interaction handling
- **Domain Layer**: Business logic, entities, and use cases independent of external dependencies
- **Data Layer**: Data sources, repositories implementation, and external API integration

### BLoC Architecture

Follows the **BLoC Separation Principle** with individual BLoCs for specific responsibilities:

- **QuotesBloc**: Handles quotes display and loading
- **FavoritesBloc**: Manages favorite quotes operations
- **AddQuoteBloc**: Handles quote creation and form validation

### Dependencies

**Core Dependencies:**
- `flutter_bloc`: State management
- `bloc`: Core BLoC library
- `equatable`: Value equality
- `google_fonts`: Typography enhancement
- `toastification`: User feedback notifications

**Development Dependencies:**
- `bloc_test`: BLoC testing utilities
- `mocktail`: Mocking for tests
- `very_good_analysis`: Linting and code quality

---

## Working with Translations 🌐

This project relies on [flutter_localizations][flutter_localizations_link] and follows the [official internationalization guide for Flutter][internationalization_link].

### Adding Strings

1. To add a new localizable string, open the `app_en.arb` file at `lib/l10n/arb/app_en.arb`.

```arb
{
    "@@locale": "en",
    "counterAppBarTitle": "Counter",
    "@counterAppBarTitle": {
        "description": "Text shown in the AppBar of the Counter Page"
    }
}
```

2. Then add a new key/value and description

```arb
{
    "@@locale": "en",
    "counterAppBarTitle": "Counter",
    "@counterAppBarTitle": {
        "description": "Text shown in the AppBar of the Counter Page"
    },
    "helloWorld": "Hello World",
    "@helloWorld": {
        "description": "Hello World Text"
    }
}
```

3. Use the new string

```dart
import 'package:quote_verse/l10n/l10n.dart';

@override
Widget build(BuildContext context) {
  final l10n = context.l10n;
  return Text(l10n.helloWorld);
}
```

### Adding Supported Locales

Update the `CFBundleLocalizations` array in the `Info.plist` at `ios/Runner/Info.plist` to include the new locale.

```xml
    ...

    <key>CFBundleLocalizations</key>
	<array>
		<string>en</string>
		<string>es</string>
	</array>

    ...
```

### Adding Translations

1. For each supported locale, add a new ARB file in `lib/l10n/arb`.

```
├── l10n
│   ├── arb
│   │   ├── app_en.arb
│   │   └── app_es.arb
```

2. Add the translated strings to each `.arb` file:

`app_en.arb`

```arb
{
    "@@locale": "en",
    "counterAppBarTitle": "Counter",
    "@counterAppBarTitle": {
        "description": "Text shown in the AppBar of the Counter Page"
    }
}
```

`app_es.arb`

```arb
{
    "@@locale": "es",
    "counterAppBarTitle": "Contador",
    "@counterAppBarTitle": {
        "description": "Texto mostrado en la AppBar de la página del contador"
    }
}
```

### Generating Translations

To use the latest translations changes, you will need to generate them:

1. Generate localizations for the current project:

```sh
flutter gen-l10n --arb-dir="lib/l10n/arb"
```

Alternatively, run `flutter run` and code generation will take place automatically.

[coverage_badge]: coverage_badge.svg
[flutter_localizations_link]: https://api.flutter.dev/flutter/flutter_localizations/flutter_localizations-library.html
[internationalization_link]: https://flutter.dev/docs/development/accessibility-and-localization/internationalization
[license_badge]: https://img.shields.io/badge/license-MIT-blue.svg
[license_link]: https://opensource.org/licenses/MIT
[very_good_analysis_badge]: https://img.shields.io/badge/style-very_good_analysis-B22C89.svg
[very_good_analysis_link]: https://pub.dev/packages/very_good_analysis
[very_good_cli_link]: https://github.com/VeryGoodOpenSource/very_good_cli
